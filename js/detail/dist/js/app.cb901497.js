(function(){"use strict";var e={3630:function(e,t,o){var a=o(1114),l=o(5130),n=(o(8111),o(1701),o(6768)),u=o(144),r=o(4232);const i={class:"ui-ctl ui-ctl-checkbox"},s=["name"],d={class:"ui-ctl-label-text"};var c={__name:"checkbox-field",props:(0,n.zz)({modelValue:{type:Boolean,default:()=>!1},name:{type:String,required:!0},label:{type:String,default:()=>""}},{modelValue:{default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=(0,n.fn)(e,"modelValue");return(o,a)=>((0,n.uX)(),(0,n.CE)("label",i,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),name:e.name,type:"checkbox",class:"ui-ctl-element"},null,8,s),[[l.lH,t.value]]),(0,n.Lk)("div",d,(0,r.v_)(e.label),1)]))}};const p=c;var m=p;function v(e,t,o={}){const a={...o,data:t};return BX.ajax.runAction(e,a)}function f(e,t){return E(e)?BX.Loc.getMessage(e,t):""}function E(e){return BX.Loc.hasMessage(e)}const y={emit(e,t){BX.Event.EventEmitter.emit(e,t)},subscribe(e,t){BX.Event.EventEmitter.subscribe(e,t)}},_={class:"ui-ctl ui-ctl-after-icon ui-ctl-dropdown"},h={class:"ui-ctl-after ui-ctl-icon-angle"},g=["name"],k={value:""},b=["value"];var V={__name:"select-field",props:(0,n.zz)({name:{type:String,required:!0},attributes:{type:Object,default:()=>{}},api:{type:Object,default:()=>{}},enums:{type:Array,default:()=>[]}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=(0,n.fn)(e,"modelValue"),o=e,a=(0,u.Kh)({enums:[]});(0,n.sV)(()=>{o.api?.action?i():o.enums&&(a.enums=o.enums)}),(0,n.wB)(()=>o.api,()=>i(),{deep:!0}),(0,n.wB)(()=>o.enums,e=>a.enums=e);const i=()=>{o?.api?.action&&v(o.api.action,o.api?.data||{}).then(e=>{o.api?.callback&&(e=o.api?.callback(e)),a.enums=Array.isArray(e.data)?e.data:[]}).catch(e=>{console.error(e),alert("Ошибка получения значений списка")})};return(o,i)=>((0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("div",h,[(0,n.eW)((0,r.v_)(a)+" ",1),(0,n.bo)((0,n.Lk)("select",(0,n.v6)({"onUpdate:modelValue":i[0]||(i[0]=e=>t.value=e),name:e.name,class:"ui-ctl-element"},e.attributes),[(0,n.Lk)("option",k,(0,r.v_)((0,u.R1)(f)("SHOLOKHOV_EXCHANGE_SETTINGS_SELECT_SELECTED_VALUE")),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.enums,e=>((0,n.uX)(),(0,n.CE)("option",{key:e.value,value:e.value},(0,r.v_)(e.name),9,b))),128))],16,g),[[l.u1,t.value]])])]))}};const T=V;var C=T,w=(o(4114),o(7588),{__name:"entity-selector-field",props:(0,n.zz)({options:{type:Object}},{modelValue:{},modelModifiers:{}}),emits:(0,n.zz)(["onTagAdd","onBeforeTagAdd","onAfterTagAdd","onBeforeTagRemove","onTagRemove","onAfterTagRemove","onContainerClick","onInput","onBlur","onKeyUp","onEnter","onMetaEnter","onKeyDown","onAddButtonClick","onCreateButtonClick","afterRender"],["update:modelValue"]),setup(e,{emit:t}){const o=(0,n.fn)(e,"modelValue"),a=(0,u.KR)(),l=t,r=e,i=(0,u.Kh)({value:"",options:{},addButtonCaption:""});(0,n.sV)(()=>{s(),d()}),(0,n.wB)(()=>o.value,e=>{e!==i.value&&d()});const s=()=>{i.options={...r.options},i.options?.addButtonCaption&&(i.options.addButtonCaption=f(i.options.addButtonCaption)||i.options.addButtonCaption),i.options.events={onTagAdd:e=>l("onTagAdd",e),onBeforeTagAdd:e=>l("onBeforeTagAdd",e),onAfterTagAdd:e=>{c(e),l("onAfterTagAdd",e)},onBeforeTagRemove:e=>l("onBeforeTagRemove",e),onTagRemove:e=>l("onTagRemove",e),onAfterTagRemove:e=>{c(e),l("onAfterTagRemove",e)},onContainerClick:e=>l("onContainerClick",e),onInput:e=>l("onInput",e),onBlur:e=>l("onBlur",e),onKeyUp:e=>l("onKeyUp",e),onEnter:e=>l("onEnter",e),onMetaEnter:e=>l("onMetaEnter",e),onKeyDown:e=>l("onKeyDown",e),onAddButtonClick:e=>l("onAddButtonClick",e),onCreateButtonClick:e=>l("onCreateButtonClick",e)}},d=()=>{BX.loadExt("ui.entity-selector").then(()=>{const e=new BX.UI.EntitySelector.TagSelector(i.options);if(a.value){a.value.innerHTML="";const t=new Promise(t=>{e.renderTo(a.value),t(e)});t.then(e=>l("afterRender",e))}})},c=e=>{let t;const a=e.target;a.isMultiple()?(t=[],e.target.getTags().forEach(e=>t.push(e.id))):t=a.getTags()[0]?.id??"",o.value=i.value=t};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",{ref_key:"container",ref:a},null,512))}});const O=w;var A=O;const B={class:"ui-ctl ui-ctl-checkbox"},L=["name"];var S={__name:"input-field",props:(0,n.zz)({name:{type:String,required:!0}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=(0,n.fn)(e,"modelValue");return(o,a)=>((0,n.uX)(),(0,n.CE)("div",B,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),name:e.name,type:"text",class:"ui-ctl-element"},null,8,L),[[l.Jo,t.value]])]))}};const I=S;var R=I;const X={class:"ui-ctl ui-ctl-textbox"};var x={__name:"input-hash-field",props:(0,n.zz)({name:{type:String,required:!0},label:{type:String,default:()=>""}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=(0,n.fn)(e,"modelValue"),o=()=>{v("sholokhov:exchange.SecureController.generateHash").then(e=>t.value=e.data).catch(()=>alert("Ошибка генерации идентификатора"))};return(e,a)=>((0,n.uX)(),(0,n.CE)("div",X,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),type:"text",class:"ui-ctl-element"},null,512),[[l.Jo,t.value]]),(0,n.Lk)("span",{class:"hash-text-generator",onClick:o},"Сгенерировать")]))}};const F=x;var W=F;const U={width:"40%"},K={width:"60%"},N={key:0},H={width:"40%"},M={width:"60%"};var D={__name:"iblock-property-selector",props:{modelValue:{type:Object,default:()=>{}},property:{type:Object,default:()=>{}}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,a=t,l=(0,u.Kh)({iBlockOptions:{multiple:!1,addButtonCaption:"SHOLOHKOV_EXCHANGE_UI_ENTITY_SELECTOR_DIALOG_ADD_BUTTON_CAPTION_SELECT",dialogOptions:{entities:[{id:"sholokhov-exchange-iblock",dynamicSearch:!0,dynamicLoad:!0}]}}}),i=(0,n.EW)({get(){return o.modelValue||a("update:modelValue",{}),o.modelValue},set(e){a("update:modelValue",e)}}),s=(0,n.EW)({get(){return i.value?.iblock_id},set(e){e||(d.value=""),i.value.iblock_id=e}}),d=(0,n.EW)({get(){return i.value?.property_id},set(e){i.value.property_id=e}}),c=(0,n.EW)(()=>({multiple:!1,addButtonCaption:"SHOLOHKOV_EXCHANGE_UI_ENTITY_SELECTOR_DIALOG_ADD_BUTTON_CAPTION_SELECT",dialogOptions:{entities:[{id:"sholokhov-exchange-iblock-property",dynamicSearch:!0,dynamicLoad:!0,options:{iblockId:s,nameTemplate:"#NAME# (#CODE#)",...o.property?.api||{}}}]}}));return(e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",U,(0,r.v_)((0,u.R1)(f)("SHOLOKHOV_EXCHANGE_SETTINGS_UI_TITLE_RENDER_IBLOCK_SELECT_IBLOCK")),1),(0,n.Lk)("td",K,[(0,n.bF)(A,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),selector:l.iBlockOptions},null,8,["modelValue","selector"])])]),s.value?((0,n.uX)(),(0,n.CE)("tr",N,[(0,n.Lk)("td",H,(0,r.v_)((0,u.R1)(f)("SHOLOKHOV_EXCHANGE_UI_ENTITY_PROPERTY_SELECTOR")),1),(0,n.Lk)("td",M,[(0,n.bF)(A,{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),selector:c.value},null,8,["modelValue","selector"])])])):(0,n.Q3)("",!0)],64))}};const P=D;var G=P;const z=e=>{let t=null;switch(e){case"input":t=R;break;case"checkbox":t=m;break;case"select":t=C;break;case"entity-selector":t=A;break;case"iblock-property":t=G;break}return t};var j={__name:"dynamic-field",props:(0,n.zz)({view:{type:String,required:!0},entity:{type:String,default:()=>""},options:{type:Object,default:()=>{}}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=(0,n.fn)(e,"modelValue"),o=e;(0,n.wB)(()=>t.value,e=>y.emit("sholokhov.exchange:uiUpdateValueDynamicField",{value:e,entity:o.entity}));const a=(0,n.EW)(()=>z(o.view));return(o,l)=>((0,n.uX)(),(0,n.Wv)((0,n.$y)(a.value),(0,n.v6)({modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e)},e.options),null,16,["modelValue"]))}};const Y=j;var q=Y;const Q={width:"40%"},$={width:"60%"};function J(e,t){return(0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",Q,[(0,n.RG)(e.$slots,"title")]),(0,n.Lk)("td",$,[(0,n.RG)(e.$slots,"content")])])}var Z=o(1241);const ee={},te=(0,Z.A)(ee,[["render",J]]);var oe=te;const ae={class:"ui-alert-message"},le={key:0},ne={key:0,class:"ui-alert-close-btn"};var ue={__name:"alert-message",props:{size:{type:String,default:()=>""},type:{type:String,default:()=>""},icon:{type:String,default:()=>""},alert:{type:Boolean,default:()=>!0},closeButton:{type:Boolean,default:()=>!0},centerText:{type:Boolean,default:()=>!1}},setup(e){const t=e,o=(0,n.EW)(()=>"sx"===t.size?"ui-alert-xs":"ui-alert-md"),a=(0,n.EW)(()=>{let e;switch(t.type){case"success":e="ui-alert-success";break;case"danger":e="ui-alert-danger";break;case"warning":e="ui-alert-warning";break;case"primary":e="ui-alert-primary";break;default:e="ui-alert-default";break}return e}),l=(0,n.EW)(()=>{let e;switch(t.icon){case"warning":e="ui-alert-icon-warning";break;case"danger":e="ui-alert-icon-danger";break;case"info":e="ui-alert-icon-info";break}return e}),u=(0,n.EW)(()=>t.closeButton?"ui-alert-close-animate":"");return(0,n.sV)(()=>{BX.loadExt("ui.alerts")}),(t,i)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,r.C4)(["ui-alert",[o.value,a.value,l.value,u.value]])},[(0,n.Lk)("span",ae,[e.alert?((0,n.uX)(),(0,n.CE)("strong",le,"Внимание!")):(0,n.Q3)("",!0),(0,n.RG)(t.$slots,"default")]),u.value?((0,n.uX)(),(0,n.CE)("span",ne)):(0,n.Q3)("",!0)],2))}};const re=ue;var ie=re;const se=(e,t)=>{const o=Sholokhov.Exchange.Detail.entityRegistry;if(!o.has(e))return;const a=o.get(e);a(t)};var de={__name:"general-block",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=(0,u.KR)(),o=(0,n.fn)(e,"modelValue");return(0,n.sV)(()=>{se("TEST",{container:t,store:o})}),(e,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)((0,u.R1)(oe),null,{content:(0,n.k6)(()=>[(0,n.Lk)("div",{ref_key:"containerRef",ref:t},null,512)]),_:1}),(0,n.bF)((0,u.R1)(oe),null,{content:(0,n.k6)(()=>[(0,n.bF)((0,u.R1)(m),{modelValue:o.value.active,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value.active=e),label:(0,u.R1)(f)("SHOLOKHOV_EXCHANGE_SETTINGS_ENTITY_UI_GENERAL_TITLE_FIELD_ACTIVE"),name:"active"},null,8,["modelValue","label"])]),_:1}),(0,n.bF)((0,u.R1)(oe),null,{title:(0,n.k6)(()=>[(0,n.eW)((0,r.v_)((0,u.R1)(f)("SHOLOKHOV_EXCHANGE_SETTINGS_ENTITY_UI_GENERAL_TITLE_FIELD_HASH")),1)]),content:(0,n.k6)(()=>[(0,n.bF)((0,u.R1)(W),{modelValue:o.value.hash,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.hash=e),name:"hash"},null,8,["modelValue"])]),_:1})],64))}};const ce=de;var pe=ce,me={__name:"dynamic-fields",props:(0,n.zz)({fields:{type:Array,default:()=>[]}},{modelValue:{default:{}},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=(0,n.fn)(e,"modelValue");return(o,a)=>((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.fields,(e,o)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:o},[e.isConstructor?((0,n.uX)(),(0,n.Wv)((0,u.R1)(q),{key:0,modelValue:t.value[e.name],"onUpdate:modelValue":o=>t.value[e.name]=o,view:e.view,entity:t.value.type,options:e.options},null,8,["modelValue","onUpdate:modelValue","view","entity","options"])):((0,n.uX)(),(0,n.Wv)((0,u.R1)(oe),{key:1},{title:(0,n.k6)(()=>[(0,n.eW)((0,r.v_)((0,u.R1)(f)(e?.title)),1)]),content:(0,n.k6)(()=>[(0,n.eW)((0,r.v_)(e)+" ",1),(0,n.bF)((0,u.R1)(q),{modelValue:t.value[e.name],"onUpdate:modelValue":o=>t.value[e.name]=o,view:e.view,entity:t.value.type,options:e.options},null,8,["modelValue","onUpdate:modelValue","view","entity","options"])]),_:2},1024))],64))),128))}};const ve=me;var fe=ve,Ee={__name:"target-block",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=(0,n.fn)(e,"modelValue"),o=(0,u.Kh)({targets:[],fields:[]}),a=(0,n.EW)(()=>({action:"sholokhov:exchange.EntityController.getByType",data:{code:"target"},callback:l}));(0,n.wB)(()=>t.value.type,e=>{t.value={type:t.value.type},i(e)});const l=e=>(Array.isArray(e.data)&&(e.data=e.data.map(e=>({value:e.CODE,name:e.NAME}))),e),i=e=>{v("sholokhov:exchange.EntityController.getFields",{code:e}).then(e=>o.fields=Array.isArray(e.data)?e.data:[]).catch(e=>console.error(e))};return(e,l)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)((0,u.R1)(oe),null,{title:(0,n.k6)(()=>[(0,n.eW)((0,r.v_)((0,u.R1)(f)("SHOLOKHOV_EXCHANGE_SETTINGS_ENTITY_UI_TARGET_TITLE_FIELD_TYPE")),1)]),content:(0,n.k6)(()=>[(0,n.bF)((0,u.R1)(C),{modelValue:t.value.type,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.type=e),api:a.value,name:"type"},null,8,["modelValue","api"])]),_:1}),(0,n.bF)(fe,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value=e),fields:o.fields},null,8,["modelValue","fields"])],64))}};const ye=Ee;var _e=ye,he={__name:"source-block",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=(0,n.fn)(e,"modelValue"),o=(0,u.Kh)({targets:[],fields:[]}),a=(0,n.EW)(()=>({action:"sholokhov:exchange.EntityController.getByType",data:{code:"source"},callback:l}));(0,n.wB)(()=>t.value.type,e=>{t.value={type:t.value.type},i(e)});const l=e=>(Array.isArray(e.data)&&(e.data=e.data.map(e=>({value:e.CODE,name:e.NAME}))),e),i=e=>{v("sholokhov:exchange.EntityController.getFields",{code:e}).then(e=>o.fields=Array.isArray(e.data)?e.data:[]).catch(e=>console.error(e))};return(e,l)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)((0,u.R1)(oe),null,{title:(0,n.k6)(()=>[(0,n.eW)((0,r.v_)((0,u.R1)(f)("SHOLOKHOV_EXCHANGE_SETTINGS_ENTITY_UI_SOURCE_TITLE_FIELD_TYPE")),1)]),content:(0,n.k6)(()=>[(0,n.bF)((0,u.R1)(C),{modelValue:t.value.type,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.type=e),api:a.value,name:"type"},null,8,["modelValue","api"])]),_:1}),(0,n.bF)(fe,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value=e),fields:o.fields},null,8,["modelValue","fields"])],64))}};const ge=he;var ke=ge;const be="sholokhov-exchange-detail-map-create";var Ve={__name:"create-map-field",props:{show:{type:Boolean,default:()=>!1}},emits:["opened","closed"],setup(e,{emit:t}){const o=e,a=t;(0,n.wB)(()=>o.show,e=>{e?(console.log(i(),"SHOW"),i()||r(),u(),u()):l()});const l=()=>{BX.PopupWindowManager.getPopupById(be).close(),a("closed")},u=()=>{BX.PopupWindowManager.getPopupById(be).show(),a("opened")},r=()=>{BX.PopupWindowManager.create(be,null,{content:`<div id="${be}__content"></div>`,closeIcon:{right:"20px",top:"10px"},titleBar:{content:BX.create("span",{html:"<b>Добавление поля</b>",props:{className:"access-title-bar"}})},darkMode:!0,autoHide:!0,buttons:[new BX.PopupWindowButton({text:"Сохранить",className:"popup-window-button-accept",events:{click:function(){this.popupWindow.close()}}})]})},i=()=>BX.PopupWindowManager.isPopupExists(be);return(t,o)=>e.show?((0,n.uX)(),(0,n.Wv)(n.Im,{key:0,to:`#${be}__content`},[o[0]||(o[0]=(0,n.eW)(" TEST "))],8,["to"])):(0,n.Q3)("",!0)}};const Te=Ve;var Ce=Te,we={__name:"map-block",props:(0,n.zz)({target:{type:String,default:()=>""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=(0,n.fn)(e,"modelValue"),o=e,a=(0,u.Kh)({templates:{},errors:[],openAddPopup:!1});(0,n.sV)(()=>{o.target||l()}),(0,n.wB)(()=>o.target,e=>{e?(a.errors=[],a.templates[e]||(a.templates[e]={},i(e).catch(e=>a.errors=e.errors.map(e=>e.message)))):l()});const l=()=>a.errors=["Необходимо выбрать тип обмена"],i=async e=>{const t=await v("sholokhov:exchange.MapController.getTemplates",{target:e});Array.isArray(t.data)?t.data.forEach(t=>a.templates[e][t.code]=t.fields||[]):a.errors.push("Ошибка загрузки данных")},s=()=>{console.log("OPEN"),a.openAddPopup=!0};return(o,l)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)((0,u.R1)(oe),null,{content:(0,n.k6)(()=>[(0,n.eW)(" Значение: "+(0,r.v_)(t.value),1),l[3]||(l[3]=(0,n.Lk)("br",null,null,-1)),l[4]||(l[4]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" Тип: "+(0,r.v_)(e.target),1),l[5]||(l[5]=(0,n.Lk)("br",null,null,-1)),l[6]||(l[6]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" Шаблоны: "+(0,r.v_)(a.templates)+" ",1),l[7]||(l[7]=(0,n.Lk)("br",null,null,-1)),l[8]||(l[8]=(0,n.Lk)("br",null,null,-1)),e.target?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[l[2]||(l[2]=(0,n.eW)(" Тут выводим список доступных типов карт ")),(0,n.Lk)("button",{type:"button",onClick:s},"Добавить")],64)):((0,n.uX)(!0),(0,n.CE)(n.FK,{key:1},(0,n.pI)(a.errors,e=>((0,n.uX)(),(0,n.Wv)((0,u.R1)(ie),{key:e,type:"danger"},{default:(0,n.k6)(()=>[(0,n.eW)((0,r.v_)(e),1)]),_:2},1024))),128))]),_:1}),(0,n.bF)(Ce,{show:a.openAddPopup,onClosed:l[0]||(l[0]=e=>a.openAddPopup=!1),onOpened:l[1]||(l[1]=e=>a.openAddPopup=!0)},null,8,["show"])],64))}};const Oe=we;var Ae=Oe,Be={__name:"App",props:{teleport:{type:Object,required:!0},formContainer:{type:String,required:!0},id:{type:Number,default:()=>0},signed:{type:String,required:!1,default:()=>""}},setup(e){const t=e,o=(0,u.Kh)({form:{general:{},target:{},source:{},map:{}},userForm:{}});(0,n.sV)(()=>{for(let e in t.fields)o.form[e]={};a()});const a=()=>{const e=document.querySelector(t.formContainer);e&&e.addEventListener("submit",e=>l(e))},l=e=>{e.preventDefault(),e.stopImmediatePropagation()};return(t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[e.teleport.general?((0,n.uX)(),(0,n.Wv)(n.Im,{key:0,to:e.teleport.general},[(0,n.bF)(pe,{modelValue:o.form.general,"onUpdate:modelValue":a[0]||(a[0]=e=>o.form.general=e)},null,8,["modelValue"])],8,["to"])):(0,n.Q3)("",!0),e.teleport.target?((0,n.uX)(),(0,n.Wv)(n.Im,{key:1,to:e.teleport.target},[(0,n.bF)(_e,{modelValue:o.form.target,"onUpdate:modelValue":a[1]||(a[1]=e=>o.form.target=e)},null,8,["modelValue"])],8,["to"])):(0,n.Q3)("",!0),e.teleport.source?((0,n.uX)(),(0,n.Wv)(n.Im,{key:2,to:e.teleport.source},[(0,n.bF)(ke,{modelValue:o.form.source,"onUpdate:modelValue":a[2]||(a[2]=e=>o.form.source=e)},null,8,["modelValue"])],8,["to"])):(0,n.Q3)("",!0),e.teleport.map?((0,n.uX)(),(0,n.Wv)(n.Im,{key:3,to:e.teleport.map},[(0,n.bF)(Ae,{modelValue:o.form.map,"onUpdate:modelValue":a[3]||(a[3]=e=>o.form.map=e),target:o.form?.target?.type},null,8,["modelValue","target"])],8,["to"])):(0,n.Q3)("",!0)],64))}};const Le=Be;var Se=Le;class Ie{constructor(){(0,a.A)(this,"_ui",{})}get(e){return this._ui[e]}getAll(){return this._ui}set(e,t){this._ui[e]=t}has(e){return Object.hasOwn(this._ui,e)}}const Re={before:"sholokhovExchange:beforeInitDetail"},Xe=e=>{const t=new CustomEvent(Re.before,{detail:e});document.dispatchEvent(t)};window.Sholokhov||(window.Sholokhov={}),window.Sholokhov.Exchange||(window.Sholokhov.Exchange={}),window.Sholokhov.Exchange.Detail||(window.Sholokhov.Exchange.Detail=new class{constructor(){(0,a.A)(this,"_app",void 0),(0,a.A)(this,"_entityRegistry",void 0)}mounted(e,t){Xe({id:t?.id}),this._app=(0,l.Ef)(Se,t),this._app.mount(e)}unmount(){this._app?.unmount()}get events(){return{init:Re}}get entityRegistry(){return this._entityRegistry??=new Ie}})}},t={};function o(a){var l=t[a];if(void 0!==l)return l.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,a,l,n){if(!a){var u=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],n=e[d][2];for(var r=!0,i=0;i<a.length;i++)(!1&n||u>=n)&&Object.keys(o.O).every(function(e){return o.O[e](a[i])})?a.splice(i--,1):(r=!1,n<u&&(u=n));if(r){e.splice(d--,1);var s=l();void 0!==s&&(t=s)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,l,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,n,u=a[0],r=a[1],i=a[2],s=0;if(u.some(function(t){return 0!==e[t]})){for(l in r)o.o(r,l)&&(o.m[l]=r[l]);if(i)var d=i(o)}for(t&&t(a);s<u.length;s++)n=u[s],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},a=self["webpackChunkdetail"]=self["webpackChunkdetail"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],function(){return o(3630)});a=o.O(a)})();