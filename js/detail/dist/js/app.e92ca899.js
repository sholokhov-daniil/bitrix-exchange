(function(){"use strict";var e={3088:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var l=n(6768),a=n(4232),u=n(5130);const r={class:"title"},o={class:"value"},i=["type"];var d={__name:"InputField",props:{modelValue:{type:[String,Number,Array],required:!0},field:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,d=t,s=(0,l.EW)((()=>n.field?.type||"text")),c=(0,l.EW)((()=>n.field?.attributes||{})),f=(0,l.EW)({get(){return n.modelValue},set(e){d("update:modelValue",e)}});return(t,n)=>((0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",r,(0,a.v_)(e.field?.title),1),(0,l.Lk)("div",o,[(0,l.bo)((0,l.Lk)("input",(0,l.v6)({type:s.value},c.value,{"onUpdate:modelValue":n[0]||(n[0]=e=>f.value=e)}),null,16,i),[[u.hp,f.value]])])]))}};const s=d;var c=s},5983:function(e,t,n){var l=n(5130),a=n(6768),u=n(144),r=n(3088),o=n(7167),i={fields:[{component:r["default"],settings:{title:"ID импорта:",attributes:{name:"general[hash]"}}},{component:o["default"],settings:{title:"Активность:",attributes:{name:"general[active]"}}},{component:o["default"],settings:{title:"Деактивировать элементы, которые не пришли в импорте:",attributes:{name:"general[deactivate]"}}}],userFields:[]};function d(e){let t;switch(e.type){case"selector":t=Promise.resolve().then(n.bind(n,7423));break;case"checkbox":t=Promise.resolve().then(n.bind(n,7167));break;default:t=e.api?n.e(681).then(n.bind(n,4681)):Promise.resolve().then(n.bind(n,3088));break}return t}n(8111),n(1701);var s=n(7423),c={__name:"TargetTypeField",props:{hidden:{type:Boolean,default:()=>!1}},emits:["selected"],setup(e,{emit:t}){const n=(0,u.Kh)({field:{title:"Тип обмена: ",type:"hidden",attributes:{name:"general[type]"},api:{action:"sholokhov:exchange.EntityController.getByType",data:{code:"target"},callback:function(e){return Array.isArray(e.data)?(e.data=e.data.map((e=>({value:e.CODE,name:e.NAME}))),e):[]}},value:null}}),l=t;return(0,a.wB)((()=>n.field.value),(e=>l("selected",e))),(t,l)=>e.hidden?((0,a.uX)(),(0,a.Wv)(r["default"],{key:0,modelValue:n.field.value,"onUpdate:modelValue":l[0]||(l[0]=e=>n.field.value=e),field:n.field},null,8,["modelValue","field"])):((0,a.uX)(),(0,a.Wv)(s["default"],{key:1,modelValue:n.field.value,"onUpdate:modelValue":l[1]||(l[1]=e=>n.field.value=e),field:n.field},null,8,["modelValue","field"]))}};const f=c;var p=f,v={__name:"TargetComponent",props:{id:{type:Number,default:()=>0}},setup(e){const t=(0,u.Kh)(i),n=e=>{BX.ajax.runAction("sholokhov:exchange.EntityController.getFields",{data:{code:e}}).then((e=>t.userFields=Array.isArray(e.data)?e.data:[])).catch((e=>console.error(e)))};return(e,l)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[l[0]||(l[0]=(0,a.Lk)("input",{type:"text",name:"general[name]"},null,-1)),l[1]||(l[1]=(0,a.Lk)("h2",null,"Основные настройки",-1)),(0,a.bF)(p,{onSelected:n}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.fields,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},[((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.component),{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,field:e.settings},null,8,["modelValue","onUpdate:modelValue","field"]))])))),128)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.userFields,((e,n)=>((0,a.uX)(),(0,a.Wv)((0,a.$y)((0,u.R1)(d)(e)),{key:n,modelValue:t.userFields[n].value,"onUpdate:modelValue":e=>t.userFields[n].value=e,field:t.userFields[n]},null,8,["modelValue","onUpdate:modelValue","field"])))),128))],64))}};const m=v;var h=m;const b={name:"source[type]"};function y(e,t){return(0,a.uX)(),(0,a.CE)("select",b)}var g=n(1241);const k={},E=(0,g.A)(k,[["render",y]]);var V=E,w={__name:"App",props:{id:{type:Number,required:!0},action:{type:String,required:!0}},setup(e){return(t,n)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(h,{id:e.id},null,8,["id"]),(0,a.bF)(V,{id:e.id},null,8,["id"])],64))}};const _=w;var C=_;window.Sholokhov||(window.Sholokhov={}),window.Sholokhov.Exchange||(window.Sholokhov.Exchange={}),window.Sholokhov.Exchange.Detail||(window.Sholokhov.Exchange.Detail={_app:null,mount(e,t){this.unmount(),this._app=(0,l.Ef)(C,t),this._app.mount(e)},unmount(){this._app&&this._app.unmount()}})},7167:function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var l=n(6768),a=n(3088),u={__name:"CheckboxField",props:{modelValue:{type:[String,Number,Array],required:!0},field:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,u=t,r=(0,l.EW)((()=>{const e={...n.field};return e.type="checkbox",e})),o=(0,l.EW)({get(){return n.modelValue},set(e){u("update:modelValue",e)}});return(e,t)=>((0,l.uX)(),(0,l.Wv)(a["default"],{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),field:r.value},null,8,["modelValue","field"]))}};const r=u;var o=r},7423:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});n(8111),n(1701);var l=n(6768),a=n(4232),u=n(5130),r=n(144);const o={class:"title"},i={class:"value"},d=["value"];var s={__name:"SelectField",props:{modelValue:{type:[String,Number,Array],required:!0},field:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=(0,r.Kh)({enums:[],errors:[]}),c=t;(0,l.sV)((()=>v())),(0,l.wB)((()=>n.field?.api),(()=>v()));const f=(0,l.EW)((()=>n.field?.attributes||{})),p=(0,l.EW)({get(){return n.modelValue},set(e){c("update:modelValue",e)}}),v=()=>{n.field?.api&&m().then((e=>{n.field?.api?.callback&&(e=n.field.api?.callback(e)),s.enums=Array.isArray(e.data)?e.data:[]})).catch((e=>s.errors=e.errors.map((e=>e.message))))},m=()=>BX.ajax.runAction(n.field?.api?.action,{method:"POST",data:n.field?.api?.data||{}});return(t,n)=>((0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",o,(0,a.v_)(e.field?.title),1),(0,l.Lk)("div",i,[(0,l.bo)((0,l.Lk)("select",(0,l.v6)({"onUpdate:modelValue":n[0]||(n[0]=e=>p.value=e)},f.value),[n[1]||(n[1]=(0,l.Lk)("option",{value:""},"-- Выберите значение --",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.enums,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.value,value:e.value},(0,a.v_)(e.name),9,d)))),128))],16),[[u.u1,p.value]])])]))}};const c=s;var f=c}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var u=t[l]={exports:{}};return e[l].call(u.exports,u,u.exports,n),u.exports}n.m=e,function(){var e=[];n.O=function(t,l,a,u){if(!l){var r=1/0;for(s=0;s<e.length;s++){l=e[s][0],a=e[s][1],u=e[s][2];for(var o=!0,i=0;i<l.length;i++)(!1&u||r>=u)&&Object.keys(n.O).every((function(e){return n.O[e](l[i])}))?l.splice(i--,1):(o=!1,u<r&&(r=u));if(o){e.splice(s--,1);var d=a();void 0!==d&&(t=d)}}return t}u=u||0;for(var s=e.length;s>0&&e[s-1][2]>u;s--)e[s]=e[s-1];e[s]=[l,a,u]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,l){return n.f[l](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+".d02c9964.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="detail:";n.l=function(l,a,u,r){if(e[l])e[l].push(a);else{var o,i;if(void 0!==u)for(var d=document.getElementsByTagName("script"),s=0;s<d.length;s++){var c=d[s];if(c.getAttribute("src")==l||c.getAttribute("data-webpack")==t+u){o=c;break}}o||(i=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+u),o.src=l),e[l]=[a];var f=function(t,n){o.onerror=o.onload=null,clearTimeout(p);var a=e[l];if(delete e[l],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),i&&document.head.appendChild(o)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={524:0};n.f.j=function(t,l){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)l.push(a[2]);else{var u=new Promise((function(n,l){a=e[t]=[n,l]}));l.push(a[2]=u);var r=n.p+n.u(t),o=new Error,i=function(l){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var u=l&&("load"===l.type?"missing":l.type),r=l&&l.target&&l.target.src;o.message="Loading chunk "+t+" failed.\n("+u+": "+r+")",o.name="ChunkLoadError",o.type=u,o.request=r,a[1](o)}};n.l(r,i,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,u,r=l[0],o=l[1],i=l[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(i)var s=i(n)}for(t&&t(l);d<r.length;d++)u=r[d],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return n.O(s)},l=self["webpackChunkdetail"]=self["webpackChunkdetail"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[504],(function(){return n(5983)}));l=n.O(l)})();